### **项目总目标**

在30天内，完成一个基础的、端到端的低延迟语音对话系统原型。该原型需整合流式语音识别（ASR）、大语言模型（LLM）和流式语音合成（TTS），并验证其在模拟MR对话场景下的可行性，为后续与MR渲染引擎的集成打下坚实基础。

---

### **第一周：基础理论研究与技术选型 (Days 1-7)**

**本周目标：** 深入理解实时对话技术栈的各个环节，完成关键技术和工具的选型，并搭建基础的开发环境。

* **Day 1: 项目启动与ASR技术调研**
    * **任务：** 熟悉项目目标和技术栈（RTC, ASR, LLM, TTS）。重点调研当前主流的流式ASR技术。
    * **产出：** 一份至少包含3种主流流式ASR方案（如Whisper.cpp, FunASR, Vosk等）的对比分析报告，内容包括：延迟、准确率、部署难度、社区支持和开源协议。

* **Day 2: LLM接口与流式输出研究**
    * **任务：** 研究如何与大语言模型（如GPT系列, Llama系列, 或国内厂商模型）进行API交互，特别是如何实现流式（Streaming）输出。
    * **产出：** 编写一个Python脚本，该脚本能调用一个LLM的API，并以“打字机”效果在控制台（Console）中流式打印返回的文本。

* **Day 3: TTS技术调研与选型**
    * **任务：** 调研主流的流式TTS技术，重点关注音质、延迟和计算资源消耗。
    * **产出：** 一份至少包含3种主流流式TTS方案（如Edge-TTS, Piper, Coqui TTS等）的对比分析报告，并编写一个简单的脚本，将一段文字转换为音频文件播放。

* **Day 4: RTC技术与音频编解码学习**
    * **任务：** 学习WebRTC的基本原理。重点研究AI音频编解码器（如Lyra, Satin, Opus）的优势和使用场景。
    * **产出：** 一份RTC技术和AI音频编解码器的学习笔记。搭建一个基础的WebRTC本地服务器，或跑通一个官方的Demo。

* **Day 5: 确定技术栈与环境搭建**
    * **任务：** 基于前四天的调研，确定本次原型开发所使用的具体ASR、LLM、TTS服务或模型库。搭建完整的本地开发环境。
    * **产出：** 一份技术选型决策文档，详细说明选择每个组件的原因。一个配置好所有依赖库（ASR, LLM client, TTS, WebRTC server）的Python虚拟环境或Docker容器。

* **Day 6-7: 周末学习与缓冲**
    * **任务：** 深入学习选定技术栈的官方文档，或追赶本周未完成的进度。
    * **产出：** 巩固知识，确保第二周可以顺利开始编码。

---

### **第二周：非流式E2E原型搭建 (Days 8-14)**

**本周目标：** 将选定的ASR、LLM、TTS三个模块串联起来，实现一个“你说完-AI思考-AI说完”的完整、但延迟较高的对话流程。

* **Day 8: ASR与LLM的连接**
    * **任务：** 编写代码，将ASR识别出的完整一句话文本，作为输入传递给LLM。
    * **产出：** 一个脚本：启动后录制一段音频，调用ASR转为文字，然后将文字发送给LLM并打印LLM的完整回复。

* **Day 9: LLM与TTS的连接**
    * **任务：** 编写代码，将LLM返回的完整文本，传递给TTS模块进行语音合成。
    * **产出：** 一个脚本：输入一段文字，调用LLM获得回复，然后调用TTS将回复合成为音频并播放。

* **Day 10-11: 搭建完整的E2E非流式链路**
    * **任务：** 将Day 8和Day 9的代码整合，形成一个完整的“录音->ASR->LLM->TTS->播放”的链路。
    * **产出：** 一个可以运行的Python程序。用户运行程序后，程序提示用户说话，用户说完后，程序会播放出AI的回答。

* **Day 12: 延迟分析与瓶颈定位**
    * **任务：** 在E2E链路的每个环节加入计时器，精确测量ASR、LLM、TTS各自的处理耗时以及总延迟。
    * **产出：** 一份详细的延迟分析报告，用数据指出当前链路中的主要延迟瓶颈（大概率是LLM的“思考时间”和ASR/TTS的整句处理）。

* **Day 13: 引入RTC传输（模拟）**
    * **任务：** 将音频的输入和输出改为通过本地的WebRTC连接进行传输，模拟云端处理的场景。
    * **产出：** 两个脚本：一个客户端脚本负责录音并通过RTC发送，一个服务端脚本负责接收RTC音频流、处理（调用E2E链路）、再将合成的音频通过RTC发回。

* **Day 14: 周会与代码回顾**
    * **任务：** 整理本周代码，准备一个简短的Demo演示。总结当前原型的问题，并规划下周的流式优化方案。
    * **产出：** 一次成功的内部Demo演示。一份本周工作总结和下周的详细计划。

---

### **第三周：全链路流式优化 (Days 15-21)**

**本周目标：** 对E2E链路进行大刀阔斧的改造，实现ASR、LLM、TTS的全程流式处理，显著降低用户可感知的交互延迟。

* **Day 15: ASR流式改造**
    * **任务：** 将ASR模块从“处理整段音频”改造为“处理小段音频块（chunk）”，并能实时返回识别结果。
    * **产出：** 一个能实时打印用户说话内容的ASR脚本。

* **Day 16: LLM流式输入/输出**
    * **任务：** 将LLM的交互改造为流式。一旦ASR有临时的、不稳定的结果，就可以开始“喂”给LLM。同时，LLM的输出也必须是流式的。
    * **产出：** 完善Day 2的脚本，实现ASR的实时结果与LLM流式输入的对接。

* **Day 17: TTS流式改造**
    * **任务：** 将TTS模块从“合成整段文本”改造为“接收文本流，并实时合成音频流”。这是本周的技术难点。
    * **产出：** 一个脚本，可以接收一个文本流（例如，从LLM流式输出的结果），并实时播放合成的音频，实现“边生成边播放”的效果。

* **Day 18-19: 搭建完整的流式E2E链路**
    * **任务：** 将改造后的三个流式模块重新整合，并与RTC传输对接。
    * **产出：** 一个全新的、全链路流式的对话程序。效果为：用户开始说话，几乎同时AI的声音就开始生成和播放，实现极低延迟的对话“抢答”或“接话”感。

* **Day 20: 延迟与体验优化**
    * **任务：** 再次进行延迟测试，对比非流式版本的巨大提升。根据实际效果，调整音频块（chunk）大小、缓冲区策略等参数，找到最佳平衡点。
    * **产出：** 一份优化前后的延迟对比报告。一份参数调优的经验总结。

* **Day 21: 探索“预测性生成”**
    * **任务：** 进行初步研究，如何利用LLM在用户说话停顿的间隙进行预测性生成。
    * **产出：** 一个简单的概念验证脚本，或一份关于如何实现预测性生成的技术方案文档。

---

### **第四周：MR场景融合与项目交付 (Days 22-30)**

**本周目标：** 将流式对话系统与模拟的MR场景信息结合，并整理项目代码和文档，形成可交付的成果。

* **Day 22: 设计MR场景上下文**
    * **任务：** 设计一个简单的空乘培训场景。定义需要传递给LLM的“场景信息”，例如：[场景：模拟机舱, 用户身份：实习空乘, AI身份：资深教官, 任务：处理乘客突发疾病]。
    * **产出：** 一份场景设定和Prompt设计文档。

* **Day 23: 实现场景上下文注入**
    * **任务：** 修改LLM的输入部分，将固定的场景信息和用户的实时语音输入结合起来，形成一个更丰富的Prompt。
    * **产出：** 更新后的对话程序，AI的回答会严格遵循其“教官”身份和特定场景。

* **Day 24-25: 模拟视觉信息输入**
    * **任务：** 模拟MR中的“视觉感知”。创建一个简单的机制，允许在对话中途手动输入“视觉信息”（例如，在控制台输入“【用户看到了乘客脸色发白】”），并让LLM能够理解和回应这个变化。
    * **产出：** 一个支持文本形式“视觉信息”注入的对话原型，AI能够进行简单的多模态（语音+模拟视觉）应答。

* **Day 26: 成果总结与文档撰写**
    * **任务：** 开始撰写详细的项目报告，包括研究背景、技术选型、系统架构、实现细节、遇到的问题和解决方案。
    * **产出：** 项目报告初稿。

* **Day 27: 代码整理与注释**
    * **任务：** 清理所有代码，添加必要的注释，使其易于理解和交接。
    * **产出：** 格式规范、注释清晰的最终代码库。

* **Day 28: 录制最终Demo视频**
    * **任务：** 录制一个高质量的演示视频，清晰地展示从非流式到流式对话的体验差异，以及融入了场景上下文和模拟视觉信息后的对话效果。
    * **产出：** 一个3-5分钟的最终成果演示视频。

* **Day 29: 准备最终汇报PPT**
    * **任务：** 准备实习成果的最终汇报材料。
    * **产出：** 最终汇报PPT。

* **Day 30: 项目汇报与交接**
    * **任务：** 进行实习成果的最终汇报，将所有代码、文档和报告进行交接。
    * **产出：** 一次成功的项目汇报和完整的资料交接。